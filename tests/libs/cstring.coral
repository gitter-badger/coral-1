#pragma string-literals=char-pointer

type CString:
  val buf : Ptr[Int8]
  func new(buf: Ptr[Int8]):
     this.buf = Ptr[Int8]

type CString:
  func length(): strlen(buf)
  func index(n): buf[n]
  func slice(a, b): pass
  func left(a): pass
  func right(b): pass

let p = "foobar"
let c = CString.new("foobar")

printf("'%s' - (%d)\n", c.buf, c.length())
