extern "C" printf : Fn[..., Void]

func collatz : Int64 (n: Int64, m: Int64):
  if n = 1:
    return m
  else if 0 = n % 2:
    return collatz(n / 2, m + 1)
  else:
    return collatz(1 + n * 3, m + 1)

func loop_collatz (s: Int32, e : Int32):
  if s != e:
    printf("%ld => %5ld steps\n", s, collatz(s, 0))
    loop_collatz (s + 1 as Int32, e)
  else:
    0

func main ():
  loop_collatz(25, 30)
